<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pause My Game" Height="380" Width="450"
        Background="#2b2b2b">
    <Window.Resources>
        <Style x:Key="DarkButton" TargetType="Button">
            <Setter Property="Background" Value="#3c3f41"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#4a4d4f"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- 菜单栏 -->
        <Menu Background="#3c3f41" Foreground="#ffffff" Grid.Row="0">
            <MenuItem Header="File" Foreground="#ffffff">
                <MenuItem Header="Add" Click="AddProgram_Click" Foreground="#000000"/>
                <MenuItem Header="Reload Config" Click="ReloadConfig_Click" Foreground="#000000"/>
                <MenuItem Header="Edit Config" Click="EditConfig_Click" Foreground="#000000"/>
                <MenuItem Header="Show Database" Click="ShowDatabase_Click" Foreground="#000000"/>
                <Separator/>
                <MenuItem Header="Exit" Click="Exit_Click" Foreground="#000000"/>
            </MenuItem>
            <MenuItem Header="Tools" Foreground="#ffffff">
                <MenuItem Header="Task Manager" Click="OpenTaskManager_Click" Foreground="#000000"/>
            </MenuItem>
            <MenuItem Header="Hotkeys" Foreground="#ffffff">
                <MenuItem x:Name="PauseHotkeyMenuItem" Header="Pause (Ctrl+Alt+P)" Click="PauseGame_Click" Foreground="#000000"/>
                <MenuItem x:Name="ResumeHotkeyMenuItem" Header="Resume (Ctrl+Alt+R)" Click="ResumeGame_Click" Foreground="#000000"/>
                <Separator/>
                <MenuItem Header="Configure Hotkeys" Click="ConfigHotkeys_Click" Foreground="#000000"/>
            </MenuItem>
            <MenuItem Header="Help" Foreground="#ffffff">
                <MenuItem Header="GitHub" Click="OpenGitHub_Click" Foreground="#000000"/>
            </MenuItem>
        </Menu>
        
        <!-- 主内容区域 -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- 左侧：程序列表 -->
            <Border Background="#3c3f41" CornerRadius="5" Margin="0,0,10,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <ListBox x:Name="ProgramListBox" 
                             Background="#3c3f41" 
                             Foreground="#ffffff"
                             BorderThickness="0"
                             SelectionChanged="ProgramListBox_SelectionChanged">
                        <ListBox.Resources>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Padding" Value="10,5"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListBoxItem">
                                            <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsSelected" Value="true">
                                                    <Setter Property="Background" TargetName="Bd" Value="#4b6eaf"/>
                                                    <Setter Property="Foreground" Value="#ffffff"/>
                                                </Trigger>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Setter Property="Background" TargetName="Bd" Value="#4a4d4f"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListBox.Resources>
                    </ListBox>
                    
                    <TextBlock Grid.Row="1" Text="Game loaded: 0" x:Name="InfoLabel" Foreground="#787878" Margin="10,5"/>
                </Grid>
            </Border>
            
            <!-- 右侧：控制面板 -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- 图标显示区域 -->
                <Border Grid.Row="0" Background="#3c3f41" CornerRadius="5" Padding="10" Margin="0,0,0,10" HorizontalAlignment="Center">
                    <Grid Width="150" Height="80">
                        <StackPanel x:Name="IconPanel" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="选择程序显示图标" Foreground="#787878" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </Border>
                
                <!-- 状态显示 -->
                <TextBlock Grid.Row="1" x:Name="StatusLabel" Text="Game Status untouched" Foreground="#787878" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                
                <!-- 控制按钮 -->
                <StackPanel Grid.Row="2" HorizontalAlignment="Center" Margin="0,10">
                    <Button Content="Pause" Click="PauseGame_Click" Style="{StaticResource DarkButton}" Foreground="#FF8E53" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                    <Button Content="Resume" Click="ResumeGame_Click" Style="{StaticResource DarkButton}" Foreground="#4ECDC4" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                    <Button Content="Kill" Click="KillGame_Click" Style="{StaticResource DarkButton}" Foreground="#FF6B6B" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                    <Button Content="Launch" Click="LaunchGame_Click" Style="{StaticResource DarkButton}" Foreground="#70AD07" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                </StackPanel>
                
                <!-- 配置按钮 -->
                <StackPanel Grid.Row="3" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,20">
                    <Separator Margin="0,0,0,10" Width="200" Background="#3c3f41"/>
                    <Button Content="Edit Config" Click="EditConfig_Click" Style="{StaticResource DarkButton}" Foreground="#A8E6CF" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                    <Button Content="Reload Config" Click="ReloadConfig_Click" Style="{StaticResource DarkButton}" Foreground="#FFD93D" Width="150" Height="30" Margin="0,5" FontWeight="Bold"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
